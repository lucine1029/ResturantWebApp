@using RestaurantWebApp.Models
@model List<Menu>

@{
    ViewData["Title"] = "Menu Management System";
}

<div class="container-fluid py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10 col-md-12">
            <!-- Header Section -->
            <div class="text-center mb-5">
                <div class="menu-welcome-card bg-white text-dark p-4 rounded-3 shadow">
                    <h1 class="display-6 fw-bold mb-3">
                        <i class="fas fa-utensils me-3"></i>Welcome to the Menu Management System
                    </h1>
                    <p class="lead mb-0">Here you can add, update and remove dishes from the menu</p>
                </div>
            </div>

            <!-- Dishes Table -->
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-success text-white">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-list me-2"></i>Current Menu Items
                    </h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover table-striped">
                            <thead class="table-light">
                                <tr>
                                    <th>ID</th>
                                    <th>Dish Name</th>
                                    <th>Price</th>
                                    <th>IsAvailable</th>
									<th>IsGlutenFree</th>
									<th>IsSpicy</th>
									<th>IsVegan</th>
                                    <th>HasNuts</th>
									<th>HasEgg</th>
									<th>HasDairy</th>
                                    <th><i class="fas fa-cogs"></i> Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <fetch data from database -->
                                @foreach (var obj in Model.OrderBy(u => u.Id))
                                {
                                    <tr>
										<td>@obj.Id</td>
                                        <td>@obj.DishName</td>
										<td>@obj.Price.ToString("F2")kr</td>
                                        <td>@Html.Raw(obj.IsAvailable ? "<i class='fas fa-check text-success'></i>" : "<i class='fas fa-times text-danger'></i>")</td>
                                        <td>@Html.Raw(obj.IsGlutenFree ? "<i class='fas fa-check text-success'></i>" : "<i class='fas fa-times text-danger'></i>")</td>
                                        <td>@Html.Raw(obj.IsSpicy ? "<i class='fas fa-check text-success'></i>" : "<i class='fas fa-times text-danger'></i>")</td>
                                        <td>@Html.Raw(obj.IsVegan ? "<i class='fas fa-check text-success'></i>" : "<i class='fas fa-times text-danger'></i>")</td>
                                        <td>@Html.Raw(obj.HasNuts ? "<i class='fas fa-check text-success'></i>" : "<i class='fas fa-times text-danger'></i>")</td>
                                        <td>@Html.Raw(obj.HasEgg ? "<i class='fas fa-check text-success'></i>" : "<i class='fas fa-times text-danger'></i>")</td>
                                        <td>@Html.Raw(obj.HasDairy ? "<i class='fas fa-check text-success'></i>" : "<i class='fas fa-times text-danger'></i>")</td>
										<td>
                                            <div class="w-75 btn-group" role="group">
                                                <a asp-controller="Menu" asp-action="EditDish" asp-route-id="@obj.Id" class="btn btn-sm btn-outline-warning me-1" title="Edit">
                                                    <i class="fas fa-edit"></i></a>
                                                <a asp-controller="Menu" asp-action="DeleteDish" asp-route-id="@obj.Id" class="btn btn-sm btn-outline-danger me-1" title="Delete">
                                                    <i class="fas fa-trash"></i>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Add New Dish Button at Bottom -->
            <div class="card-footer bg-light border-0 py-4">
                <div class="row justify-content-center">
                    <div class="col-md-6 col-lg-4">
                        <div class="d-grid">
                            <a asp-controller="Menu" asp-action="AddDish" class="btn btn-success btn-lg py-3">
                                <i class="fas fa-plus-circle me-2"></i>Add New Dish
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Empty State -->
            @if (!Model.Any())
            {
                <div class="text-center py-5">
                    <div class="empty-state-icon mb-3">
                        <i class="fas fa-utensils fa-3x text-muted"></i>
                    </div>
                    <h4 class="text-muted">No dishes found</h4>
                    <p class="text-muted">Get started by adding your first dish to the menu.</p>
                    <a asp-controller="Menu" asp-action="AddDish" class="btn btn-success btn-lg py-3">
                        <i class="fas fa-plus-circle me-2"></i>Add First Dish
                    </a>
                </div>
            }
        

            <!-- Navigation & Logout -->
            <div class="row justify-content-center mt-5">
                <div class="col-md-6 col-lg-4">
                    <div class="d-grid">
                        <a asp-controller="Admin" asp-action="Index" class="btn btn-outline-primary btn-lg py-3 mb-3">
                            <i class="fas fa-arrow-left me-2"></i>Back to Admin Dashboard
                        </a>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="d-grid">
                        <form asp-controller="Admin" asp-action="Logout" method="post" class="d-inline">
                            <button type="submit" class="btn btn-outline-danger btn-lg py-3 w-100 logout-btn">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@* <style>
    .menu-welcome-card {
        background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%);
        border: 1px solid #c3e6cb;
    }

    .menu-action-btn {
        font-weight: 600;
        transition: all 0.3s ease;
        border-radius: 10px;
        border: none;
    }

    .btn-success.menu-action-btn {
        background: linear-gradient(135deg, #198754 0%, #146c43 100%);
    }

    .btn-warning.menu-action-btn {
        background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);
        color: white;
    }

    .btn-danger.menu-action-btn {
        background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
    }

    .menu-action-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }

    .logout-btn {
        font-weight: 600;
        border-width: 2px;
        border-radius: 10px;
        transition: all 0.3s ease;
    }

        .logout-btn:hover {
            background-color: #dc3545;
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(220, 53, 69, 0.4);
        }

    .table th {
        border-top: none;
        font-weight: 600;
        color: #495057;
    }

    .card-header {
        border-bottom: none;
    }

    body {
        background-color: #f8f9fa;
    }

    .table-hover tbody tr:hover {
        background-color: rgba(25, 135, 84, 0.05);
    } *@
@* </style> *@

<script>
    function addDish() {
        // Add your dish creation logic here
        alert('Dish added successfully!');
        $('#addDishModal').modal('hide');
        // You can add AJAX call to your backend here
    }

    function editDish(id) {
        // Add your dish editing logic here
        alert('Editing dish ID: ' + id);
    }

    function deleteDish(id) {
        if (confirm('Are you sure you want to delete this dish?')) {
            // Add your dish deletion logic here
            alert('Dish deleted successfully!');
            // You can add AJAX call to your backend here
        }
    }
</script>



<style>
    .menu-welcome-card {
        background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%);
        border: 1px solid #c3e6cb;
    }

    .menu-action-btn {
        font-weight: 600;
        transition: all 0.3s ease;
        border-radius: 10px;
        border: none;
    }

    .btn-info.menu-action-btn {
        background: linear-gradient(135deg, #0dcaf0 0%, #0aa2c0 100%);
        color: white;
    }

    .menu-action-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }

    .logout-btn {
        font-weight: 600;
        border-width: 2px;
        border-radius: 10px;
        transition: all 0.3s ease;
    }

    .logout-btn:hover {
        background-color: #dc3545;
        color: white;
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(220, 53, 69, 0.4);
    }

    .table th {
        border-top: none;
        font-weight: 600;
        color: #495057;
    }

    .card-header {
        border-bottom: none;
    }

    body {
        background-color: #f8f9fa;
    }

    .table-hover tbody tr:hover {
        background-color: rgba(25, 135, 84, 0.05);
    }

    .empty-state-icon {
        opacity: 0.5;
    }

    .card-footer {
        border-top: 1px solid rgba(0, 0, 0, 0.125);
    }

    .btn-success {
        background: linear-gradient(135deg, #198754 0%, #146c43 100%);
        border: none;
        font-weight: 600;
        transition: all 0.3s ease;
        border-radius: 10px;
    }

    .btn-success:hover {
        background: linear-gradient(135deg, #146c43 0%, #0f5132 100%);
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(25, 135, 84, 0.4);
    }
</style>
